---
import BaseLayout from '../layouts/BaseLayout.astro';
import FilteredTimelineWidget from '../components/FilteredTimelineWidget.jsx';
import { getCollection } from 'astro:content';

const entries = await getCollection('portfolio');
const tags = [...new Set(entries.flatMap(e => e.data.tags ?? []))];
---

<BaseLayout>
  <main class="p-6">
    <h1 class="text-3xl font-bold mb-6">My Project Portfolio</h1>
    <FilteredTimelineWidget
      client:load
      entries={entries}
      tags={tags}
    />
  </main>
</BaseLayout>
